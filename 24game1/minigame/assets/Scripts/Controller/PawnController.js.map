{"version":3,"sources":["__temp/buildProcess/inlineFunctionProcess/Scripts/Controller/PawnController.ts"],"names":[],"mappings":";;;AAAA,iCAA4B;AAM5B,IAAM,UAAU,GAAG,QAAQ,CAAA;AAC3B,IAAM,SAAS,GAAG,OAAO,CAAC;AAI1B;IAA4C,0CAAa;IAAzD;QAAA,qEA2BC;QAvBU,iBAAW,GAAW,GAAG,CAAC;;IAuBrC,CAAC;IArBU,gCAAO,GAAd;QACI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAkB,gBAAM,CAAC,QAAQ,CAAC,CAAC;IACxE,CAAC;IAEM,wCAAe,GAAtB,UAAuB,IAAW,EAAC,IAAW;QAC1C,IAAG,IAAI,IAAE,CAAC,EACV;YACI,IAAI,GAAC,IAAI,GAAC,GAAG,CAAA,CAAC,CAAA,GAAG,CAAA,CAAC,CAAA,IAAI,CAAC;SAC1B;QACD,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,EAAE,IAAI,CAAC,CAAA;QAEvC,IAAI,UAAU,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAEzC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;IACnD,CAAC;IAEM,wCAAe,GAAtB;QACI,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;QACrC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;IAC1C,CAAC;IAzBgB,cAAc;QADlC,gBAAM,CAAC,UAAU,CAAC,SAAS,CAAC,gBAAgB,CAAC;OACzB,cAAc,CA2BlC;IAAD,qBAAC;CA3BD,AA2BC,CA3B2C,gBAAM,CAAC,MAAM,GA2BxD;kBA3BoB,cAAc","file":"PawnController.js","sourcesContent":["import engine from \"engine\";\nimport EventManager from \"../event/EventManager\"\nimport PlayerController from \"./PlayerController\";\nimport CameraController from \"./CameraController\";\n\n\nconst ROTATE_KEY = 'rotate'\nconst SPEED_KEY = 'speed';\n\n\n@engine.decorators.serialize(\"PawnController\")\nexport default class PawnController extends engine.Script {\n    //animation\n    public animator: null | engine.Animator;\n\n    public rotateSpeed: number = 120;\n\n    public onAwake() {\n        this.animator = this.getComponent<engine.Animator>(engine.Animator);\n    }\n\n    public updateMoveAnime(dirX:number,dirY:number) {\n        if(dirY!=0)\n        {\n            dirY=dirY<0.3?0.3:dirY;\n        }\n        this.animator.setFloat(SPEED_KEY, dirY)\n        //右手坐标系下，导出后动画的paramter设置相反，所以这里旋转角度不同\n        let turnAmount = -Math.atan2(dirX, dirY);\n        \n        this.animator.setFloat(ROTATE_KEY, turnAmount);\n    }\n\n    public updateIdleAnime() {\n        this.animator.setFloat(SPEED_KEY, 0);\n        this.animator.setFloat(ROTATE_KEY, 0);\n    }\n\n}"]}